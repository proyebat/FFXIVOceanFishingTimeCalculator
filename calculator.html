<!DOCTYPE html>
<html>
<body>

<h2>A Dumb Time Calculator for Ocean Fishing</h2>

<p>Use this stupid box to select a future date that you want to know what happens that day.</p>

<input type="date" id="myDate" value="2020-02-18">
<button onclick="convertTime()">Submit</button>


<p>Here are the 12 patterns that day:</p>

<p id="demo"></p>

<script>
var pattern = [1,4,2,5,3,6,1,4,2,5,3,6,4,1,5,2,6,3,4,1,5,2,6,3,2,5,3,6,1,4,2,5,3,6,1,4,5,2,6,3,4,1,5,2,6,3,4,1,3,6,1,4,2,5,3,6,1,4,2,5,6,3,4,1,5,2,6,3,4,1,5,2]
//Mimics S'Yahn Tia's spreadsheet from the Fisherman's Horizon discord at (discord.gg/AnFaDpN)
var routeNames = ["Sea Dragon + Coral", "Octo", "Sothis + Elasmo", "Sothis + Stonescale", "Jelly", "Shark + Coral"]

function convertTime() {
  var x = document.getElementById("myDate").value;
  var temptime = new Date(x);
  
  var temp = Math.floor(temptime.getTime() / 1000 / (60*60*2));
  temp += 20;
  temp %= 72;
  
  var temptext = "";
  
  for (var i = 0; i < 12; i++) {
    temptext += i*2;
    temptext += ":00 , Route: ";
    temptext += pattern[((temp + i > 71) ? (temp + i - 72):(temp+i))];
    temptext += " is ";
    temptext += routeNames[pattern[((temp + i > 71) ? (temp + i - 72):(temp+i))]-1];
    temptext += "<br>";
  }
  document.getElementById("demo").innerHTML = temptext;
}


//This is grandpa's way to find just one trip's route, much simpler than that dumb thing up there
//Months start at 0
//Date(YY,MM,DD,HH)
var time = new Date(2020,1,24,08);

var milli = d.getTime();
var seconds = milli / 1000;

//work in 2 hour blocks
var twoHourPeriods = Math.floor(seconds / (60*60*2));

//an offset to line up the pattern to real time
var adjustment = twoHourPeriods + 16;

//make it fit pattern array
var remainder = adjustment % 72;

//document.getElementById("demo").innerHTML = time;
//document.getElementById("remain").innerHTML = remainder;
//document.getElementById("answer").innerHTML = pattern[remainder];
//document.getElementById("route").innerHTML = routeNames[pattern[remainder]-1];

//It took me two hours on W3 to remember this shit.
</script>

</body>
</html>
